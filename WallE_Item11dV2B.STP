START CONTROL,
*PROJECT WALL-E


!C = P_WALLE_2022Q1.ASC;P_WALLE_2022Q2.ASC;P_WALLE_2022Q3.ASC;P_WALLE_2022Q4.ASC;P_WALLE_2023Q1.ASC;P_WALLE_2023Q2_PUNCHED.ASC,

C = P_WALLE_2023Q3_V2.ASC,


Y,
CEP,
CSVR2,
OLDNAMES,
FINISH CONTROL,

START DATA,
ORDER1234567890XV,
SERIAL NUMBER IN COLUMNS 1-10,
CARD CHARACTERS BINARY 300000,
TEMPORARY /99999999/,

DI $RESP = $1-10,

di $blank = 0,
di $blankamt = 0,


[*INSERT WallE_insertGlobal]
[*INSERT WallE_oesoe]
[*INSERT WallE_resp]
[*INSERT walle_cardcol_banner]

[*INSERT walle_cardcol_p1]
!*INSERT walle_cardcol_p4a
[*INSERT walle_cardcol_p4b]


[*INSERT WallE_insertAlign_pickup]
[*INSERT WallE_insertAlign1]
!*INSERT WallE_insertAlign4a
[*INSERT WallE_insertAlign4b]

[*INSERT WallE_stubs_pickup]



[*INSERT WALLE_HEADERS_trend]
[*INSERT WALL_E_NEWWTS]

DM $GCASH_USER = $xA_Q17e/1,
DM $USER = $xQ17i/1,





! ------------ Q105 + Q106 -------------- !
!Send/ Receive Remittance

om $xQ105_Q106 = $xQ105_REG,
om $xQ105_Q106 = $Q106/1-9,$blank/10-9999,



DM $TQ105_Q106 = $xQ105_Q106/
1,
2,
3,
R,F,
VT = "Q105/Q106. SEND/RECEIVE REMITTANCE OR OVER-THE COUNTER MONEY TRANSFER - (ONLINE/OFFLINE)",
V = $TQ105R1,




! ------------ Q33 + Q55 -------------- !
om $xQ33_Q55 = $xQ33_REG,
OM $xQ33_Q55 = $Q55/1-9,$blank/10-9999,


DM $TQ33_Q55 = $xQ33_Q55/
1,
2,
3,
R,F,
VT = "Q33/Q55. ROLE IN SENDING/RECEIVING REMITTANCE - (ONLINE/OFFLINE)",
V = $TQ33R1,




DM $TQ55a = $xA_Q55a/
1,
2+1012+1013+1061+1065+1045+1055+1075+1081+1086,
3+1059+1111,
4+1085,
5+1062,
6+1100,
7+1078,
8,
9,
10+1001+1015+1026+1030+1067,
11+1010,
12+1094,
13+1023+1080,
14+1064,
15+1049,
16+1004+1029+1034+1035,
17+1103,
18+1060+1077,
19+1014+1022+1027+1047+1050+1079+1101,
20,
21,
22,
23,
24,
25,
26,
27,
28,
29,
1002+1088,
1003+1108,
1006,
1007+1076,
1008,
1009,
1011,
1019+1020+1057,
1025+1046+1091+1098,
1043,
1054,
1056,
1070,
1071,
1072,
1073,
1074,
1082,
1087,
1089,
1090,
1092,
1093,
1095,
1097,
1099,
1102,
1106,
1107,
1109,
1110,
1113,
1114,
1115,
1116,
1016+1063,
1016+1063,
1024+1040,
1024,
1040,
1032+1033+1083+1104+1117,
1032,
1033,
1083,
1104,
1117,
1031+1038+1039+1041+1042+1044+1048+1052+1053+1084,
1031,
1038,
1039,
1041,
1042,
1044,
1048,
1052,
1053,
1084,
1005+1017+1051+1105+1112+1018+1028+1036+1037+1058+1066+1096,
1005,
1017,
1051,
1105,
1112,
1018+1028+1036+1037+1058+1066+1096,
1018,
1028,
1036,
1037,
1058,
1066,
1096,
9999,
R,
F,




! ------------ Q33a1 + Q55a -------------- !
om $xQ33a1_Q55a = $xQ33a1_REG .or. $xA_Q55a,

DM $TQ33a1_Q55a = $xQ33a1_Q55a/
1,
2+1012+1013+1061+1065+1045+1055+1075+1081+1086,
3+1059+1111,
4+1085,
5+1062,
6+1100,
7+1078,
8,
9,
10+1001+1015+1026+1030+1067,
11+1010,
12+1094,
13+1023+1080,
14+1064,
15+1049,
16+1004+1029+1034+1035,
17+1103,
18+1060+1077,
19+1014+1022+1027+1047+1050+1079+1101,
20,
21,
22,
23,
24,
25,
26,
27,
28,
29,
1002+1088,
1003+1108,
1006,
1007+1076,
1008,
1009,
1011,
1019+1020+1057,
1025+1046+1091+1098,
1043,
1054,
1056,
1070,
1071,
1072,
1073,
1074,
1082,
1087,
1089,
1090,
1092,
1093,
1095,
1097,
1099,
1102,
1106,
1107,
1109,
1110,
1113,
1114,
1115,
1116,
1016+1063,
1016+1063,
1024+1040,
1024,
1040,
1032+1033+1083+1104+1117,
1032,
1033,
1083,
1104,
1117,
1031+1038+1039+1041+1042+1044+1048+1052+1053+1084,
1031,
1038,
1039,
1041,
1042,
1044,
1048,
1052,
1053,
1084,
1005+1017+1051+1105+1112+1018+1028+1036+1037+1058+1066+1096,
1005,
1017,
1051,
1105,
1112,
1018+1028+1036+1037+1058+1066+1096,
1018,
1028,
1036,
1037,
1058,
1066,
1096,
9999,
R,
F,
VT = "Q33a1/Q55a. PURPOSE OF SENDING REMITTANCE -  (ONLINE/OFFLINE)",
V = $TQ33a1R1,



DM $TQ55f = $xA_Q55f/
1,
2+1012+1013+1061+1065+1045+1055+1075+1081+1086,
3+1059+1111,
4+1085,
5+1062,
6+1100,
7+1078,
8,
9,
10+1001+1015+1026+1030+1067,
11+1010,
12+1094,
13+1023+1080,
14+1064,
15+1049,
16+1004+1029+1034+1035,
17+1103,
18+1060+1077,
19+1014+1022+1027+1047+1050+1079+1101,
20,
21,
22,
23,
24,
25,
26,
27,
28,
29,
1002+1088,
1003+1108,
1006,
1007+1076,
1008,
1009,
1011,
1019+1020+1057,
1025+1046+1091+1098,
1043,
1054,
1056,
1070,
1071,
1072,
1073,
1074,
1082,
1087,
1089,
1090,
1092,
1093,
1095,
1097,
1099,
1102,
1106,
1107,
1109,
1110,
1113,
1114,
1115,
1116,
1016+1063,
1016+1063,
1024+1040,
1024,
1040,
1032+1033+1083+1104+1117,
1032,
1033,
1083,
1104,
1117,
1031+1038+1039+1041+1042+1044+1048+1052+1053+1084,
1031,
1038,
1039,
1041,
1042,
1044,
1048,
1052,
1053,
1084,
1005+1017+1051+1105+1112+1018+1028+1036+1037+1058+1066+1096,
1005,
1017,
1051,
1105,
1112,
1018+1028+1036+1037+1058+1066+1096,
1018,
1028,
1036,
1037,
1058,
1066,
1096,
9999,
R,
F,


! ------------ Q33e2 + Q55h -------------- !

[*DOA=1:BR]
[*DOB=1:SRA]
OM $xQ33e2_REG[B] = $XI_[ROWBRAND.A]_T_Q33e2_[B],
OM $xQ33e2_REGALL = $XI_[ROWBRAND.A]_T_Q33e2_[B],
[*ENDB]
[*ENDA]


[*DOA=1:SRA]
OM $xQ55h_REG = $xT_Q55h_[A],

OM $xQ33E2Q55H_REG[A] = $xT_Q55h_[A],
OM $xQ33E2Q55H_REG[A] = $xQ33e2_REG[A],

DM $TQ33E2Q55H_REG[A] = $xQ33E2Q55H_REG[A]/
1-[AT],
R,F,
VT = "Q33E2/Q55H. AVERAGE AMOUNT RECEIVED PER TRANSACTION FOR REMITTANCE - [SENDRECA.A] REGARDLESS OF BRANDS - (ONLINE/OFFLINE)",
V = "
[*DOV=1:AT]
P[AMOUNT.V]<V[AMOUNT.V]>;
[*ENDV]
Missing answers<Z>;
Total count<C>",
[*ENDA]




DM $xQ33E2_Q55H = $xQ33e2_REGALL .or. $xQ55h_REG,
DM $TQ33E2_Q55H = $xQ33E2_Q55H/1-[AT],
R,F,
VT = "Q33E2/Q55H. AVERAGE AMOUNT RECEIVED PER TRANSACTION FOR REMITTANCE - REGARDLESS OF BRANDS AND MERCHANT - (ONLINE/OFFLINE)",
V = $TQ33E2Q55H_REG1,


DM $F2023NB = $Q22023/nb+$Q32023/nb,
DM $F2023B = $Q12022/nb+$Q22022/NB+$Q32022/NB+$Q42022/nb+$Q12023/nb,





FINISH DATA,


START TABLES,


!!!!!!!!!!!!!!!!
!!!!!FORMAT!!!!!
!!!!!!!!!!!!!!!!





GLOBAL IT # = '<JL>Wall-E',



!======FOR QPS WINDOWS (% + raw - for datachecking)
F= CTU'='/CAZ'-'/CZP'-'/SDV/UCH/NPGN/NPTC/TID/RLW30/LBB1/TOC/SPL250/CNZ'*'/URS/
  DPR1/PCS/BRS/BCS/PRC/BTS/LPP55/NSER/CLG1/RNC1/NDAT/NPGN/BAL/RBL/BCS/BTS/CLW9/PBL/MOD,

F=SDV,		! ------ PRINT STD DEVIATION
F=DPR4,		! ------ DECIMAL %
F=DPT0,		! ------ DECIMAL RAW COUNT
F=DPA4,		! ------ DECIMAL MEAN,SUM..
F=DPS4,	        ! ------ DECIMAL STD,
F=MOD,		! ------ DISPLAY MODE
F=MED,		! ------ DISPLAY MEDIAN
!F=MCB29,          ! ------ Less than 30 base
F=BTS,                  ! ------ Blank Tables Suppress
F=BCS,                  ! ------ Blank Column Suppress
F=NBRS,                  ! ------ Blank Row Suppress
F=PBL/MOD,

%AVG = 'Mean score<D2>',
%DAT = '<&DD>/<&MONTH>/<&YY>',
%RTH = '<ML3>ROW %',
%RTV = '<ML3>COL %',
%PRC = '<ML3>COUNT',
%SER = '<ML3>STD ERR OF MEAN',
%SDV ='STANDARD DEVIATION',
%PTR = "TOTAL",
!%AVG ='MEAN SCORE',
%SDV ='STANDARD DEVIATION',
%MED = '<ML7>MEDIAN            ',
%UNR = '<ML7>(UNWEIGHTED BASE)',


  
F=SHG1/SIG/SLA95/SLB95/BRS/FSL,  !---------SIGTEST

!F=NRTV, ! ------- ONLY COUNT
!F=NPRC, ! -------- ONLY %



SELECT WR $newwts,


F=BRS,


[*DATA HXOLD=HAT,HBT,HCT,HDT,HET,HFT,HGT,HHT,HIT,HJT,HKT,HLT,HMT,HNT]

[*DATA HX=
HA1T,
HET]

[*SET T = 0]




[*DATA HX=HTX]






! ------------ Q33e2 + Q55h -------------- !

[*DOB=1:SRA]
[*DOX=1:1]
IF (($Filter27F6_REG/NB).($TQ33_REG/2+3).($TQ33a2_REG/[B])) + (($F2023NB/NB).($Q106/1+3).($Q55/2+3).($TQ55f/[B])) + (($F2023B/NB).($TQ8BR2/6).($Q106/1+3).($Q55/2+3).($TQ55f/[B])), 
T [+T] = $TQ33E2Q55H_REG[B] * $[HX.X],
BT = "AMONG WHO PERSONALLY RECEIVE REMITTANCE IN P2M - [SENDRECA.B] REGARDLESS OF BRANDS - ONLINE/OFFLINE",
[*ENDX]
[*ENDB]
!
[*DOB=1:SRA]
[*DOX=1:1]
if $TQ17i/1, then,
IF (($Filter27F6_REG/NB).($TQ33_REG/2+3).($TQ33a2_REG/[B])) + (($F2023NB/NB).($Q106/1+3).($Q55/2+3).($TQ55f/[B])) + (($F2023B/NB).($TQ8BR2/6).($Q106/1+3).($Q55/2+3).($TQ55f/[B])), 
T [+T] = $TQ33E2Q55H_REG[B] * $[HX.X],
BT = "AMONG USERS OF FINTECH APPS AND WHO PERSONALLY RECEIVE RECEIVE REMITTANCE IN P2M - [SENDRECA.B] REGARDLESS OF BRANDS - ONLINE/OFFLINE",
END IF,
[*ENDX]
[*ENDB]
!
[*DOB=1:SRA]
[*DOX=1:1]
if $TQ17i/2, then,
IF (($Filter27F6_REG/NB).($TQ33_REG/2+3).($TQ33a2_REG/[B])) + (($F2023NB/NB).($Q106/1+3).($Q55/2+3).($TQ55f/[B])) + (($F2023B/NB).($TQ8BR2/6).($Q106/1+3).($Q55/2+3).($TQ55f/[B])), 
T [+T] = $TQ33E2Q55H_REG[B] * $[HX.X],
BT = "AMONG NON-USERS OF FINTECH APPS AND WHO PERSONALLY RECEIVE REMITTANCE IN P2M  - [SENDRECA.B] REGARDLESS OF BRANDS - ONLINE/OFFLINE",
END IF,
[*ENDX]
[*ENDB]





! ---------- REGARDLESS ALL ---------!
[*DOX=1:1]
IF (($Filter27F6_REG/NB).($TQ33_REG/2+3).($TQ33a2_REG/1..[SRA])) + (($F2023NB/NB).($Q106/1+3).($Q55/2+3).($TQ55f/1..[SRA])) + (($F2023B/NB).($TQ8BR2/6).($Q106/1+3).($Q55/2+3).($TQ55f/1..[SRA])), 
T [+T] = $TQ33E2_Q55H * $[HX.X],
BT = "AMONG WHO PERSONALLY RECEIVE REMITTANCE IN P2M - REGARDLESS OF BRANDS AND MERCHANT - ONLINE/OFFLINE",
[*ENDX]
!
[*DOX=1:1]
if $TQ17i/1, then,
IF (($Filter27F6_REG/NB).($TQ33_REG/2+3).($TQ33a2_REG/1..[SRA])) + (($F2023NB/NB).($Q106/1+3).($Q55/2+3).($TQ55f/1..[SRA])) + (($F2023B/NB).($TQ8BR2/6).($Q106/1+3).($Q55/2+3).($TQ55f/1..[SRA])), 
T [+T] = $TQ33E2_Q55H * $[HX.X],
BT = "AMONG USERS OF FINTECH APPS AND WHO PERSONALLY RECEIVE REMITTANCE IN P2M - REGARDLESS OF BRANDS AND MERCHANT - ONLINE/OFFLINE",
END IF,
[*ENDX]
!
[*DOX=1:1]
if $TQ17i/2, then,
IF (($Filter27F6_REG/NB).($TQ33_REG/2+3).($TQ33a2_REG/1..[SRA])) + (($F2023NB/NB).($Q106/1+3).($Q55/2+3).($TQ55f/1..[SRA])) + (($F2023B/NB).($TQ8BR2/6).($Q106/1+3).($Q55/2+3).($TQ55f/1..[SRA])), 
T [+T] = $TQ33E2_Q55H * $[HX.X],
BT = "AMONG NON-USERS OF FINTECH APPS AND WHO PERSONALLY RECEIVE REMITTANCE IN P2M  - REGARDLESS OF BRANDS AND MERCHANT - ONLINE/OFFLINE",
END IF,
[*ENDX]




FINISH TABLES,





