START CONTROL,
*PROJECT WALL-E

!C = P_WALLE_2022Q1.ASC;P_WALLE_2022Q2.ASC;P_WALLE_2022Q3.ASC;P_WALLE_2022Q4.ASC;P_WALLE_2023Q1.ASC;P_WALLE_2023Q2_PUNCHED.ASC,

!C = P_WALLE_2023Q2_PUNCHED.ASC,

!C = WALLE_Q2_APR_MAINONLY_CODED.asc,



!C = WALLEQ1_MAINONLY_PUNCHED.ASC,

!C = P_WALLE_2022Q2.ASC,

C = P_WALLE_2022Q3.ASC;P_WALLE_2022Q4.ASC;P_WALLE_2023Q1.ASC;P_WALLE_2023Q2.ASC;P_WALLE_2023Q3.ASC,

Y,
CEP,
CSVR2,
TERSE,

OLDNAMES,
FINISH CONTROL,

START DATA,
ORDER1234567890XV,
SERIAL NUMBER IN COLUMNS 1-10,
CARD CHARACTERS BINARY 300000,
TEMPORARY /99999999/,

DI $RESP = $1-10,

di $blank = 0,
di $Blankamt = $299996-300000,

[*INSERT WallE_insertGlobal]
[*INSERT WallE_oesoe]

[*INSERT WallE_resp]

[*INSERT walle_cardcol_banner]
[*INSERT walle_cardcol_p1]
[*INSERT WallE_insertAlign_pickup]
[*INSERT WallE_insertAlign1]



[*INSERT WallE_stubs_pickup]
[*INSERT WallE_stubs1]

!*INSERT WallE_insertAligna


!*INSERT walle_cardcol_p2
!*INSERT walle_cardcol_p3



!*INSERT WallE_stubsa1



[*INSERT WALLE_HEADERS_Trend]
!*INSERT WALLE_HEADERS_Trend_BACKUP


[*INSERT WALL_E_NEWWTS]




DM $GCASH_USER = $xA_Q17e/1,
DM $USER = $xQ17i/1,


if ($Q32021/nb+$Q12022/nb+$Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), OM $F53 = $TQ8bR2/5.($xA_Q53/1..3),
if ($Q42021/nb), 			OM $F53 = $TQ8bR2/5.($TQ53/1..3),

if ($Q32021/nb+$Q42021/nb), OM $FQ18R2 = $Q18/2,
if ($Q12022/nb+$Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), OM $FQ18R2 = $TQ18/2,

if ($Q32021/nb+$Q42021/nb), OM $FQ18R3 = $Q18/3,
if ($Q12022/nb+$Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), OM $FQ18R3 = $TQ18/3,



if ($Q32021/nb+$Q42021/nb+$Q12022/nb+$Q22022/nb), OM $FQ18R4 = $Q18/4,
if ($Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), OM $FQ18R4 = $TQ18/4,



if ($Q32021/nb+$Q42021/nb+$Q12022/nb+$Q22022/nb), OM $FQ18R5 = $Q18/5,
if ($Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), OM $FQ18R5 = $TQ18/5,



if ($Q32021/nb+$Q42021/nb+$Q12022/nb+$Q22022/nb), OM $FQ18R6 = $Q18/6,
if ($Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), OM $FQ18R6 = $TQ18/6,
!


if ($Q32021/nb+$Q42021/nb+$Q12022/nb), 	OM $FQ18R1 = $Q18/1,
if ($Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), 			OM $FQ18R1 = $TQ18/1,


OM $Q2JUNE16_ONWARDS = $T_SEC01x02_1/220616+220617+220618+220619+220620+220621+220622+220623+220624+220625+220626+220627+220628+220629+220630+220701+220702,
OM $Q2JUNE16_ONWARDS = $Q32022/nb,



if $Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb, DM $FQ8A = $A_Q8A/10..12,
if $Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb, DM $FQ8A_10 = $A_Q8A/10,
if $Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb, DM $FQ8A_11 = $A_Q8A/11,
if $Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb, DM $FQ8A_12 = $A_Q8A/12,


[*DOA=1:BRX]
if $Q32021/nb, 				OM $F46_[a] = $TQ16d/[A],
if ($Q42021/nb+$Q12022/nb+$Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), OM $F46_[a] = $TQ16d/[A].($TQ45R[A]/1+2),


if ($Q32021/nb+$Q42021/nb+$Q12022/nb+$Q22022/NB), 	OM $FQ19AR[a] = ($TQ19aR[a]/2..6),
if ($Q32022/NB+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), 	OM $FQ19AR[a] = ($TQ19aR[a]/2..7),

if ($Q32021/nb+$Q42021/nb+$Q12022/nb+$Q22022/NB), 	OM $FQ21BR[a] = ($TQ21bR[a]/2..6),
if ($Q32022/NB+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), 	OM $FQ21BR[a] = ($TQ21bR[a]/2..7),
[*ENDA]

if ($Q32021/nb+$Q42021/nb+$Q12022/nb+$Q22022/NB), 	OM $FQ19AREG = $TQ19a_REG/2..6,
if ($Q32022/NB+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), 	OM $FQ19AREG = $TQ19a_REG/2..7,

if ($Q32021/nb+$Q42021/nb+$Q12022/nb+$Q22022/NB), 	OM $FQ21BREG = $TQ21b_REG/2..6,
if ($Q32022/NB+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), 	OM $FQ21BREG = $TQ21b_REG/2..7,




if $Q32021/nb, 				dm $FQ60 = $A_Q16d/1..98 . $A_Q17a/(99),
if ($Q42021/nb+$Q12022/nb+$Q22022/nb+$Q32022/nb+$Q42022/nb+$Q12023/nb+$Q22023/nb+$Q32023/nb), dm $FQ60 = ($TQ16d/1..[BRX]).$A_Q17a/99,

om $F9a = $TQ8bR1/1..11,


DM $F2023NB = $Q22023/nb+$Q32023/nb,
DM $F2023B = $Q12022/nb+$Q22022/NB+$Q32022/NB+$Q42022/nb+$Q12023/nb+$Q32023/nb,

DM $FQ41CE = $xQ41_CE/
1030+1031,
1030,
1031,
1040+1041+1042+1043,
1040,
1041,
1042,
1043,
1050+1051+1052+1053+1054+1055+1056+1057+1058+1059+1060+1061+1062+1063+1064+1065+1066,
1050,
1051,
1052,
1053,
1054,
1055,
1056,
1057,
1058,
1059,
1060,
1061,
1062,
1063,
1064,
1065,
1066,
1080+1081+1082,
1080,
1081,
1082,
1090+1091+1092+1093+1094,
1090,
1091,
1092,
1093,
1094,
1101+1102+1103+1104+1105+1106+1120+1121+1122+1123+1124+1125+1126+1127+1128+1129,
1101,
1102,
1103,
1104,
1105,
1106,
1120+1121+1122+1123+1124+1125+1126+1127+1128+1129,
1120,
1121,
1122,
1123,
1124,
1125,
1126,
1127,
1128,
1129,
1200+1201,
1200,
1201,
1220+1221+1222+1223+1224,
1220,
1221,
1222,
1223,
1224,
1230+1231+1232,
1230,
1231,
1232,
1240+1241+1242+1243+1244+1245+1246+1247+1248+1249,
1240,
1241,
1242,
1243,
1244,
1245,
1246,
1247,
1248,
1249,
1260+1261+1262+1263+1264+1265+1266+1267+1268,
1260,
1261,
1262,
1263,
1264,
1265,
1266,
1267,
1268,
1280+1281+1282+1283+1284+1285,
1280,
1281,
1282,
1283,
1284,
1285,
1300+1301+1302+1303+1304,
1300,
1301,
1302,
1303,
1304,
1330+1331,
1330,
1331,
1400+1401+1402+1403+1404+1405+1406+1407+1408+1409+1410+1411+1412+1413+1414+1415+1416+1417+1418+1419+1420+1421+1422+1423+1424+1425+1426+1427+1428+1429+1430+1431+1432+1433+1434+1435+1436+1+1001+2+3+1003+4+5+1005+6+1006+7+1007+8+1008+9+1009+10+11+1011+12+1012+13+14+15+1015+16+1016+17+1017+18+19,
1400,
1401,
1402,
1403,
1404,
1405,
1406,
1407,
1408,
1409,
1410,
1411,
1412,
1413,
1414,
1415,
1416,
1417,
1418,
1419,
1420,
1421,
1422,
1423,
1424,
1425,
1426,
1427,
1428,
1429,
1430,
1431,
1432,
1433,
1434,
1435,
1436,
1+1001,
2,
3+1003,
4,
5+1005,
6+1006,
7+1007,
8+1008,
9+1009,
10,
11+1011,
12+1012,
13,
14,
15+1015,
16+1016,
17+1017,
18,
19,
1500,
1500,
9999,


DM $HTOT = 
T,
ht = "Header TOTAL",
h = "
TOTAL",



FINISH DATA,
START TABLES,


!!!!!!!!!!!!!!!!
!!!!!FORMAT!!!!!
!!!!!!!!!!!!!!!!





GLOBAL IT # = '<JL>Wall-E',



!======FOR QPS WINDOWS (% + raw - for datachecking)
F= CTU'='/CAZ'-'/CZP'-'/SDV/UCH/NPGN/NPTC/TID/RLW30/LBB1/TOC/SPL250/CNZ'*'/URS/
  DPR1/PCS/BRS/BCS/PRC/BTS/LPP55/NSER/CLG1/RNC1/NDAT/NPGN/BAL/RBL/BCS/BTS/CLW9/PBL/MOD,

F=SDV,		! ------ PRINT STD DEVIATION
F=DPR4,		! ------ DECIMAL %
F=DPT0,		! ------ DECIMAL RAW COUNT
F=DPA4,		! ------ DECIMAL MEAN,SUM..
F=DPS4,	        ! ------ DECIMAL STD,
F=MOD,		! ------ DISPLAY MODE
F=MED,		! ------ DISPLAY MEDIAN
!F=MCB29,          ! ------ Less than 30 base
F=BTS,                  ! ------ Blank Tables Suppress
F=BCS,                  ! ------ Blank Column Suppress
F=NBRS,                  ! ------ Blank Row Suppress
F=PBL/MOD,

%AVG = 'Mean score<D2>',
%DAT = '<&DD>/<&MONTH>/<&YY>',
%RTH = '<ML3>ROW %',
%RTV = '<ML3>COL %',
%PRC = '<ML3>COUNT',
%SER = '<ML3>STD ERR OF MEAN',
%SDV ='STANDARD DEVIATION',
%PTR = "TOTAL",
!%AVG ='MEAN SCORE',
%SDV ='STANDARD DEVIATION',
%MED = '<ML7>MEDIAN            ',
%UNR = '<ML7>(UNWEIGHTED BASE)',


  
F=SHG1/SIG/SLA95/SLB95/BRS/FSL,  !---------SIGTEST

!F=NRTV, ! ------- ONLY COUNT
!F=NPRC, ! -------- ONLY %



SELECT WR $newwts,


F=BRS,


[*DATA HXOLD=HAT,HBT,HCT,HDT,HE_RR,HFT,HGT,HHT,HIT,HI2T,HI3T,HI4T,HJT,HKT,HLT,HMT,HNT]

[*DATA HX=
HA1T,
HET,
HIT,
HLT,
HOT,
HPT]

!

[*SET T = 0]








[*DOX=1:2]
if ($Q2JUNE16_ONWARDS/nb+$Q32023/NB).$FQ41CE/145,	T [+T] = $TQ171 * $[HX.X],
BT = "Among Quarter2 June 16 Onwards FW only and have no valid ID",
[*ENDX]

[*DOX=1:2]
if $GCASH_USER/nb, then,
if ($Q2JUNE16_ONWARDS/nb+$Q32023/NB).$FQ41CE/145,	T [+T] = $TQ171 * $[HX.X],
BT = "Among Quarter2 June 16 Onwards FW only AND Gcash Users and have no valid ID",
end if,
[*ENDX]

[*DOX=1:2]
if $GCASH_USER/b, then,
if ($Q2JUNE16_ONWARDS/nb+$Q32023/NB).$FQ41CE/145,	T [+T] = $TQ171 * $[HX.X],
BT = "Among Quarter2 June 16 Onwards FW only AND Gcash Non-Users and have no valid ID",
end if,
[*ENDX]


if $TQ17i/1, then,
[*DOX=1:2]
if ($Q2JUNE16_ONWARDS/nb+$Q32023/NB).$FQ41CE/145,	T [+T] = $TQ171 * $[HX.X],
BT = "Among Quarter2 June 16 Onwards FW only AND Among Users of FinTech Apps and have no valid ID",
[*ENDX]
END IF,

if $TQ17i/2, then,
[*DOX=1:2]
if ($Q2JUNE16_ONWARDS/nb+$Q32023/NB).$FQ41CE/145,	T [+T] = $TQ171 * $[HX.X],
BT = "Among Quarter2 June 16 Onwards FW only AND Among Non-users of FinTech Apps and have no valid ID",
[*ENDX]
END IF,





[*DOX=1:2]
 if ($Q2JUNE16_ONWARDS/nb+$Q32023/NB).$FQ41CE/145,	T [+T] = $TQ171_AC5 * $[HX.X],
BT = "Among Quarter2 June 16 Onwards FW only and have no valid ID",
[*ENDX]

[*DOX=1:2]
if $GCASH_USER/nb, then,
 if ($Q2JUNE16_ONWARDS/nb+$Q32023/NB).$FQ41CE/145,	T [+T] = $TQ171_AC5 * $[HX.X],
BT = "Among Quarter2 June 16 Onwards FW only - Gcash Users and have no valid ID",
end if,
[*ENDX]


[*DOX=1:2]
if $GCASH_USER/b, then,
 if ($Q2JUNE16_ONWARDS/nb+$Q32023/NB).$FQ41CE/145,	T [+T] = $TQ171_AC5 * $[HX.X],
BT = "Among Quarter2 June 16 Onwards FW only - Gcash Non-Users and have no valid ID",
end if,
[*ENDX]












FINISH TABLES,


